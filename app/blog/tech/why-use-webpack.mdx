---
title: '왜 Webpack을 사용하는가?'
date: '2022-05-10'
description: '웹팩의 기본 개념과 Entry, Output, Loader, Plugin에 대한 간단한 설명'
koreanSlug: 'why-use-webpack'
status: 'done'
priority: 'high'
tags: ['Webpack', '프론트엔드', '개발도구', 'JavaScript']
---

import HeadPost from '@components/Post/HeadPost.tsx'

## 왜 Webpack을 사용하는가?

## 설명

> 웹팩의 핵심은 현대의 자바스크립트 응용 프로그램을 위한 정적 모듈 번들러이다.
> 웹팩은 애플리케이션을 처리할 때 하나 이상의 진입점에서 내부적으로 종속성 그래프를 만든 다음 프로젝트에 필요한 모든 모듈을 하나 이상의 번들로 결합한다. 번들은 컨텐츠를 제공하는 정적 자산이다.

> ↑ 위설명은 웹팩 공식문서 설명이다. [웹팩 사이트 링크](https://webpack.js.org/concepts/)
> 영어로 bundle은 꾸러미 묶음이라는 뜻이다. 웹팩은 뭔가를 묶어버리는 역할 즉, 이삿짐 싸는게 역할이다.

하지만 이삿짐 싼다는 이 특성때문에 다양한 용도로 사용된다.

## 웹팩의 기본 입출력: Entry와 Output

웹팩은 입력에서 출력으로 이루어진 입출력 쌍을 사용하여 웹팩의 작업을 수행한다.
입력은 Entry라 부르고 출력은 Output이라 부른다.

## Entry란?
> 엔트리 포인트는 웹팩이 내부 디펜던시 그래프<sup>[1](#1)</sup>를 생성하기 위해 사용하는 모듈이다. 엔트리 포인트가 직간접적으로 의존하는 다른 모듈과 라이브러리를 찾아낸다.

> [공식문서 링크](https://webpack.kr/concepts/#entry)

## Output이란?
> 생성된 번들을 뜻한다. 번들은 경로를 지정하거나 이름을 지정할 수 있다.

이 기본적인 입출력에 Loader와 Plugin이 추가되면 웹팩이 다양한 작업을 수행할 수 있다.

## Loader란?

Loader는 웹팩에서 다양한 유형의 파일을 처리하기 위한 전처리 도구이다.(이미지, svg, css등)
로더를 사용하면 웹팩의 흐름은 다음과 같습니다.

1. 엔트리 파일 설정
2. 엔트리 파일이 가진 의존성을 체크
3. 의존성에 js가 아닌게 있다(원래라면 에러 발생)
4. 해당 의존성을 변환할 수 있는 로더가 있는지 체크한다.
5. 로더의 변환로직을 거친다.
6. 변환된 의존성과 함께 아웃풋 출력

이과정을 웹팩 공식문서는 이렇게 표현합니다.
> "이봐 webpack 컴파일러, require ()/import 문 내에서 '.확장자' 파일로 확인되는 경로를 발견하면 번들에 추가하기 전에 확장자-loader를 사용하여 변환해."

## Loader의 기능들

- 엔트리된 파일로부터 의존성을 변환처리한다.
- Loader의 변환 결과는 체이닝되어 역순으로 적용된다.
  - 즉, 마지막으로 실행된 로더가 더 반영에 우선순위가 있다.
- 마지막 Loader가 js를 반환하는 구조
- 압축, 패키징, 번역, 트랜스파일링 등등 가능

## Plugin이란?

Plugin은 웹팩의 **라이프사이클관점**에서 개입이 필요할때 사용한다.
대표적으로 HtmlWebpackPlugin이 있다. 
HtmlWebpackPlugin은 webpack의 결과물을 script태그에 넣어서 html파일로 생성해주는 기능을 한다.

## 간단 정리
- Entry: 웹팩을 수행할 시작점을 정의한다.
- Output: 웹팩의 결과물을 정의한다.
- Loader: 웹팩에서 처리할 수 있는 파일들을 자바스크립트로 변환하여 처리한다.
- Plugin: 웹팩의 라이프사이클관점에서 개입이 필요할때 사용한다.

<a id="1">1</a>: 하나의 파일이 다른 파일을 참조할때, 웹팩은 이것을 의존성이라고부른다. 예) <code>import _ from 'lodash' </code> * 웹팩은 js파일 뿐만아니라 이미지 파일 같은 애셋도 하나의 의존성으로 바라보고 묶어버릴 수 있다. 디펜던시 의존성은 재귀적으로 참조하는 의존성을 체크하고 수많은 의존성을 하나로 묶어버린다.
